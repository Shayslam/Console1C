# Консоль 1С

Консоль для выполнения кода 1С (в том числе через внешние обработки) в разрезе конфигураций запуска.
![image](https://github.com/user-attachments/assets/03c49fc4-c878-4316-ae20-8465d0174ab1)

## Конфигурации запуска

Перед созданием конфигурации необходимо открыть каталог рабочей области. Для этого перейдите по пути:
1. Файл;
2. Открыть папку;

Для создания новой конфигурации запуска необходимо перейти по пути:
1. Выполнить;
2. Добавить конфигурацию.

В каталоге рабочей области будет создан каталог ".1СКонсоль", в него будет помещен файл "Запуск.bsl".
В этой файле хранится описание конфигураций на встроенном языке 1С.

## Конфигурация выполнения через обработку

Как правило конфигурация будет создаваться для выполнения кода через обработку. Для этого необходимо установить свойства конфигурации как показано ниже.

```bsl
Конфигурация = Новый Структура;
Конфигурация.Вставить("Имя", "Через обработку");
Конфигурация.Вставить("Тип", "epf");
Конфигурация.Вставить("Файл", "{ТекущаяПапка}\МодульФормы.bsl");
Конфигурация.Вставить("МетодВхода", "Метод");
Запуск.Конфигурации.Добавить(Конфигурация);
```

Для метода можно указать параметры.

```bsl
Конфигурация.Вставить("ПараметрыМетодаВхода", Новый Массив);
Конфигурация.ПараметрыМетодаВхода.Добавить(Истина);
```

Свойством "Файл" выступает относительный или полный путь к файлу с описанием модуля формы. Можно также добавить путь к модулю объекта (показано ниже).

```bsl
Конфигурация.Вставить("ФайлМодульОбъекта", "{ТекущаяПапка}\МодульОбъекта.bsl");
```

По умолчанию контекст "НаКлиенте", вызывается метод модуля формы, но можно указать самостоятельно.

```bsl
Конфигурация.Вставить("Контекст", "НаКлиенте");
```

Можно указать, чтобы обработка не выполняла код, а просто компилировалась и открывалась. Ниже показано как.

```bsl
Конфигурация.Вставить("ОткрытиеОбработки", Истина); // По умолчанию Ложь.
```

Можно указать параметры открытия.

```bsl
Конфигурация.Вставить("ПараметрыОткрытия", Новый Структура);
Конфигурация.ПараметрыОткрытия.Вставить("Ключ", Справочники.Пользователи.ПустаяСсылка());
```

При выполнении через обработку консоль выгружает в файлы "Шаблон обработки", заменяет текст модуля объекта и формы, создает новую "Готовую обработку" для выполнения кода.
Так называемый "Шаблон обработки" можно подменить на свой (со своими командами, реквизитами и элементами и т.д.) как показано ниже.

```bsl
Конфигурация.Вставить("ИмяШаблонаОбработки", "{ТекущаяПапка}\ШаблонОбработки.epf");
```

По умолчанию "Готовая обработка" выгружается в каталог созданный консолью для себя в каталоге документов, но путь сохранения "Готовой обработки" можно подменить.

```bsl
Конфигурация.Вставить("ИмяГотовойОбработки", "{ТекущаяПапка}\Обработка.epf");
```

Если изменить "Шаблон обработки" модуль формы по умолчанию устанавливается для формы с именем "Форма", но это имя можно подменить.

```bsl
Конфигурация.Вставить("ИмяФормы", "ФормаЭлемента");
```

Шаблон обработки выгружается только первый раз, когда не находит в каталоге консоли соответствующий каталог выгрузки. Можно удалить каталог выгрузки для принудительной выгрузки шаблона, если вдруг вы его изменили, но можно использовать код ниже.

```bsl
Конфигурация.Вставить("ВыгружатьШаблонОбработки", Истина);
```


